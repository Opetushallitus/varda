<div #scrollTo></div>
<mat-card tabindex="0" *ngIf="toimipaikkaKooste">
  <mat-card-title-group>
    <mat-card-title>{{toimipaikkaKooste.nimi}}</mat-card-title>
    <mat-card-subtitle>{{toimipaikkaKooste.vakajarjestaja_nimi}}</mat-card-subtitle>
  </mat-card-title-group>
  <mat-card-content>
    <div class="table-responsive">
      <table class="mat-table">
        <tr class="mat-row" id="toimipaikkaId">
          <th scope="row" class="mat-header-cell">{{i18n.id | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.id}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaOrganisaatioOid">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_oid | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.organisaatio_oid}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaNimi">
          <th scope="row" class="mat-header-cell">{{i18n.nimi | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.nimi}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaKayntiosoite">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_kayntiosoite | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.kayntiosoite}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaKayntiosoitePostinumero">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_kayntiosoite_postinumero | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.kayntiosoite_postinumero}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaKayntiosoitePostitoimipaikka">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_kayntiosoite_postitoimipaikka | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.kayntiosoite_postitoimipaikka}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaPostiosoite">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_postiosoite | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.postiosoite}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaPostinumero">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_postinumero | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.postinumero}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaPostitoimipaikka">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_postitoimipaikka | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.postitoimipaikka}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaKunta">
          <th scope="row" class="mat-header-cell">{{i18n.organisaatio_kuntakoodi | translate}}</th>
          <td class="mat-cell"
              [libKoodistoValue]="koodistoEnum.kunta"
              [value]="toimipaikkaKooste.kunta_koodi"
              format="long">
          </td>
        </tr>
        <tr class="mat-row" id="toimipaikkaPuhelinnumero">
          <th scope="row" class="mat-header-cell">{{i18n.yhteystiedot_puhelinnumero | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.puhelinnumero}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaSahkopostiosoite">
          <th scope="row" class="mat-header-cell">{{i18n.yhteystiedot_sahkopostiosoite | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.sahkopostiosoite}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaKasvatusopillinenJarjestelma">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_kasvatusopillinen_jarjestelma | translate}}</th>
          <td class="mat-cell"
              [libKoodistoValue]="koodistoEnum.kasvatusopillinenjarjestelma"
              [value]="toimipaikkaKooste.kasvatusopillinen_jarjestelma_koodi"
              format="long">
          </td>
        </tr>
        <tr class="mat-row" id="toimipaikkaVarhaiskasvatuspaikat">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_varhaiskasvatuspaikat | translate}}</th>
          <td class="mat-cell">{{toimipaikkaKooste.varhaiskasvatuspaikat}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaToimintamuoto">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_toimintamuoto | translate}}</th>
          <td class="mat-cell"
              [libKoodistoValue]="koodistoEnum.toimintamuoto"
              [value]="toimipaikkaKooste.toimintamuoto_koodi"
              format="long">
          </td>
        </tr>
        <tr class="mat-row" id="toimipaikkaAsiointikieli">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_asiointikieli | translate}}</th>
          <td class="mat-cell">
            <ng-container *ngFor="let asiointikieli of toimipaikkaKooste.asiointikieli_koodi;
                                  let index = index, let length = count">
              <span [libKoodistoValue]="koodistoEnum.kieli" format="long">
                {{asiointikieli}}
              </span>
              <span *ngIf="index !== length - 1 && length > 1">, </span>
            </ng-container>
          </td>
        </tr>
        <tr class="mat-row" id="toimipaikkaJarjestamismuoto">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_jarjestamismuoto | translate}}</th>
          <td class="mat-cell">
            <ng-container *ngFor="let jarjestamismuoto of toimipaikkaKooste.jarjestamismuoto_koodi;
                                  let index = index, let length = count">
              <span [libKoodistoValue]="koodistoEnum.jarjestamismuoto" format="long">
                {{jarjestamismuoto}}
              </span>
              <span *ngIf="index !== length - 1 && length > 1">, </span>
            </ng-container>
          </td>
        </tr>
        <tr class="mat-row" id="toimipaikkaKielipainotus">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_kielipainotus | translate}}</th>
          <td class="mat-cell">{{getBooleanLabel(toimipaikkaKooste.kielipainotus_kytkin) | translate}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaToiminnallinenPainotus">
          <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_toiminnallinen_painotus | translate}}</th>
          <td class="mat-cell">{{getBooleanLabel(toimipaikkaKooste.toiminnallinenpainotus_kytkin) | translate}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaAlkamisPvm">
          <th scope="row" class="mat-header-cell">{{i18n.alkamis_pvm | translate}}</th>
          <td class="mat-cell">{{getDateDisplayValue(toimipaikkaKooste.alkamis_pvm)}}</td>
        </tr>
        <tr class="mat-row" id="toimipaikkaPaattymisPvm">
          <th scope="row" class="mat-header-cell">{{i18n.paattymis_pvm | translate}}</th>
          <td class="mat-cell">{{getDateDisplayValue(toimipaikkaKooste.paattymis_pvm)}}</td>
        </tr>
      </table>
    </div>
    <ng-container *ngIf="toimipaikkaKooste.kielipainotukset.length > 0">
      <label class="oph-bold margin-top-large">{{i18n.toimipaikka_kielipainotus_plural | translate}}</label>
      <div class="table-responsive"
           *ngFor="let kielipainotus of toimipaikkaKooste.kielipainotukset"
           [class.margin-top]="toimipaikkaKooste.kielipainotukset.indexOf(kielipainotus) !== 0">
        <table class="mat-table" [id]="'toimipaikkaKielipainotus-' + kielipainotus.id">
          <tr class="mat-row" [id]="'toimipaikkaKielipainotusKoodi-' + kielipainotus.id">
            <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_kielipainotus | translate }}</th>
            <td class="mat-cell" [libKoodistoValue]="koodistoEnum.kieli" format="long">
              {{kielipainotus.kielipainotus_koodi}}
            </td>
          </tr>
          <tr class="mat-row" [id]="'toimipaikkaKielipainotusAlkamisPvm-' + kielipainotus.id">
            <th scope="row" class="mat-header-cell">{{i18n.alkamis_pvm | translate }}</th>
            <td class="mat-cell">{{getDateDisplayValue(kielipainotus.alkamis_pvm)}}</td>
          </tr>
          <tr class="mat-row" [id]="'toimipaikkaKielipainotusPaattymisPvm-' + kielipainotus.id">
            <th scope="row" class="mat-header-cell">{{i18n.paattymis_pvm | translate }}</th>
            <td class="mat-cell">{{getDateDisplayValue(kielipainotus.paattymis_pvm)}}</td>
          </tr>
        </table>
      </div>
    </ng-container>
    <ng-container
      *ngIf="toimipaikkaKooste.toiminnalliset_painotukset.length > 0">
      <label class="oph-bold margin-top-large">{{i18n.toimipaikka_toiminnallinen_painotus_plural | translate}}</label>
      <div class="table-responsive"
           *ngFor="let toimintapainotus of toimipaikkaKooste.toiminnalliset_painotukset"
           [class.margin-top]="toimipaikkaKooste.toiminnalliset_painotukset.indexOf(toimintapainotus) !== 0">
        <table class="mat-table" [id]="'toimipaikkaToiminnallinenPainotus-' + toimintapainotus.id">
          <tr class="mat-row" [id]="'toimipaikkaToiminnallinenPainotusKoodi-' + toimintapainotus.id">
            <th scope="row" class="mat-header-cell">{{i18n.toimipaikka_toiminnallinen_painotus | translate }}</th>
            <td class="mat-cell" [libKoodistoValue]="koodistoEnum.toiminnallinenpainotus" format="long">
              {{toimintapainotus.toimintapainotus_koodi}}
            </td>
          </tr>
          <tr class="mat-row" [id]="'toimipaikkaToiminnallinenPainotusAlkamisPvm-' + toimintapainotus.id">
            <th scope="row" class="mat-header-cell">{{i18n.alkamis_pvm | translate }}</th>
            <td class="mat-cell">{{getDateDisplayValue(toimintapainotus.alkamis_pvm)}}</td>
          </tr>
          <tr class="mat-row" [id]="'toimipaikkaToiminnallinenPainotusPaattymisPvm-' + toimintapainotus.id">
            <th scope="row" class="mat-header-cell">{{i18n.paattymis_pvm | translate }}</th>
            <td class="mat-cell">{{getDateDisplayValue(toimintapainotus.paattymis_pvm)}}</td>
          </tr>
        </table>
      </div>
    </ng-container>
  </mat-card-content>
</mat-card>
