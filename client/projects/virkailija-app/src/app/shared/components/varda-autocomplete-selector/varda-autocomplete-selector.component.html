<div [class.oph-invalid-container]="isInvalid || isOptionInvalid()">
  <div class="oph-select-container" [attr.disabled]="disabled">
    <input class="oph-input autocomplete-input"
           type="text"
           #textInput
           [placeholder]="placeholder"
           [matAutocomplete]="autocomplete"
           (input)="inputChange($event)"
           [disabled]="disabled">
  </div>
  <mat-autocomplete #autocomplete="matAutocomplete" (optionSelected)="autocompleteSelected($event)">
    <mat-option *ngIf="isNullOption" [value]="nullValue">{{nullOptionLabel}}</mat-option>
    <mat-option *ngIf="isNoResults" disabled>{{ i18n.katsele_tietoja_no_results | translate}}</mat-option>
    <mat-option *ngFor="let option of filteredOptions | async"
                [value]="option"
                [title]="getFormattedOption(option)">
      {{getFormattedOption(option)}}
    </mat-option>
  </mat-autocomplete>
  <div class="varda-error-message-block"
       aria-live="assertive"
       role="alert"
       *ngIf="isInvalid || isOptionInvalid()">
    <p>{{invalidInputLabel}}</p>
  </div>
</div>
